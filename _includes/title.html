{% if page.source_file %}
    {% assign edit_path = page.source_file | replace: 'drivers/lego', 'https://github.com/ev3dev/lego-linux-drivers/edit/master' %}
    {% if page.source_line > 0 %}
        {% assign source_line = page.source_line | plus: 0 %}
        {% assign edit_path = edit_path | append: '#L' | append: source_line %}
    {% endif %}
{% elsif page.path contains '/docs' %}
    {% assign edit_path = site.github.repository_url | append: '/edit/master/' | append: page.path %}
{% endif %}

<div class="page-header">
    <h1>
        {{ page.title }}
        <small>{{ page.subtitle }}</small>
        {% if edit_path %}
            <a class="btn btn-warning pull-right" href="{{ edit_path }}">Edit on Github</a>
        {% endif %}
    </h1>
</div>